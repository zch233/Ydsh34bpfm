"use strict";(self["webpackChunkvue2_cli5"]=self["webpackChunkvue2_cli5"]||[]).push([[436],{33683:function(t,e,r){t.exports=r.p+"img/img.a883dae3.png"},20789:function(t,e,r){t.exports=r.p+"img/img_1.cf7e2d10.png"},27511:function(t,e,r){t.exports=r.p+"img/img_2.1f244dd1.png"},40513:function(t,e,r){t.exports=r.p+"img/img_3.584c3f46.png"},90840:function(t,e,r){t.exports=r.p+"img/img_4.03c3c9a7.png"},9516:function(t,e,r){t.exports=r.p+"img/img_5.8db6314f.png"},90431:function(t,e,r){t.exports=r.p+"img/img_6.be725355.png"},14286:function(t,e,r){t.exports=r.p+"img/img_7.940c6358.png"},2577:function(t,e,r){t.exports=r.p+"img/img_8.00546e68.png"},1436:function(t,e,r){r.r(e),r.d(e,{default:function(){return o}});var v=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,v=t._self._c||e;return v("section",[v("html",[v("head"),v("body",[v("h1",[t._v("code review 时机")]),v("p",[v("img",{attrs:{src:r(33683),alt:"以前"}}),t._v(" "),v("img",{attrs:{src:r(20789),alt:"现在"}})]),v("h1",[t._v("角色职责")]),v("p",[v("img",{attrs:{src:r(27511),alt:""}})]),v("table",[v("thead",[v("tr",[v("th",[t._v("角色")]),v("th",[t._v("规则")])])]),v("tbody",[v("tr",[v("td",[t._v("Developer")]),v("td",[t._v("1、"),v("strong",[t._v("一次提交的功能必须是完整的")])])]),v("tr",[v("td"),v("td",[t._v("2、默认细粒度提交（以独立的方法/功能/模块为单位）。如需粗粒度提交，需提前跟 Reviewer 沟通确认")])]),v("tr",[v("td"),v("td",[t._v("3、"),v("strong",[t._v("Commit Message 中要清晰描述变更的主题")])])]),v("tr",[v("td"),v("td",[t._v("必要时，可以以链接或者文件的形式附上需求文档/设计文档")])]),v("tr",[v("td",[t._v("Reviewer")]),v("td",[t._v("1、"),v("strong",[t._v("不允许自我 Review 并 Merge 代码")])])]),v("tr",[v("td"),v("td",[t._v("2、Review 不通过打回前需跟 Developer 说明原因并达成一致")])]),v("tr",[v("td"),v("td",[t._v("3、Review 不通过需明确填写打回的原因")])]),v("tr",[v("td"),v("td",[t._v("4、"),v("strong",[t._v("单次 Review 时长需控制在 2 分钟~2 小时内完成")]),t._v("（特殊情况请说明原因）")])]),v("tr",[v("td",[t._v("Approver")]),v("td",[t._v("1、"),v("strong",[t._v("审批不通过需注明原因")])])]),v("tr",[v("td"),v("td",[t._v("2、审批时长需要控制在 1 小时以内")])]),v("tr",[v("td"),v("td",[t._v("3、对于放行的非质量问题，需持续跟进")])])])]),v("h1",[t._v("CR 流程")]),v("ol",[v("li",[t._v("目前代码托管平台上的代码仓库 master 或 main 分支为保护分支，需要进行线上合并。首先每个人新增自己的开发分支 feature/xxx 或 feature/xxx-yyy（yyy 代表具体功能），并且"),v("strong",[t._v("遵循一个功能一个开发分支的原则")]),t._v("，上传到线上后，发起合并请求，"),v("strong",[t._v("交由审评员进行代码合并")]),t._v("；")]),v("li",[t._v("至少两人一个项目，合并时代码时，指派另一人为审评员，通过后才可合并代码，同时"),v("strong",[t._v("评审员保存下自己认为良好的代码片段和烂代码（烂代码和如果发现潜在打回修改以后，再次发起重新合并）")]),t._v("；")]),v("li",[t._v("某个需求（项目）留给"),v("strong",[t._v("开发时间非常紧张时")]),t._v("，可以"),v("strong",[t._v("暂时不进行 CR")]),t._v("，告知 Reviewers，优先保证按时需求（项目）上线，"),v("strong",[t._v("在项目看板上记录此次原因并事后再补上")]),t._v("；")]),v("li",[v("strong",[t._v("团队 Code Review")]),t._v(" 每一周或两周进行一次，视日程闲忙而定，主要"),v("strong",[t._v("分享平时团队成员 CR 的一些情况和会上再随机抽查一些代码一起审查")]),t._v("；")])]),v("h1",[t._v("CR 标准")]),v("ol",[v("li",[t._v("不纠结编码风格，编码风格交给 eslint、stylelint；")]),v("li",[t._v("代码注释、字段注释、文档注释等；")]),v("li",[t._v("代码可读性，过多嵌套、低效冗余代码、功能独立、可读性变量方法命名等；")]),v("li",[t._v("代码可扩展性，功能方法设计是否合理、模块拆分等；")]),v("li",[t._v("控制 review 时间成本，reviewer 尽量由项目责任人组成，关注代码逻辑，无需逐字逐句理解；")])]),v("h1",[t._v("举个栗子 🌰")]),v("ol",[v("li",[v("p",[t._v("远程已存在 main/xxx 分支，首先基于 main/xxx 迁出 feature/xxx 或 feature/xxx-yyy， 作为本地开发分支，其中 yyy 代表当前本地正在开发的功能")])]),v("li",[v("p",[t._v("当本地 feature/xxx 开发完毕时，推送到 codeup 上，使用「合并请求」功能")])])]),v("blockquote",[v("p",[v("img",{attrs:{src:r(40513),alt:""}}),t._v(" > "),v("img",{attrs:{src:r(90840),alt:""}}),t._v(" > "),v("img",{attrs:{src:r(9516),alt:""}}),t._v(" > "),v("img",{attrs:{src:r(90431),alt:""}})])]),v("ol",{attrs:{start:"3"}},[v("li",[t._v("此时审核人的钉钉会收到代码评审的通知，打开可以看到每一个 commit 和代码变动情况")])]),v("blockquote",[v("p",[v("img",{attrs:{src:r(14286),alt:""}}),t._v(" 逐行审阅完毕后，进行手续操作 "),v("img",{attrs:{src:r(2577),alt:""}})])]),v("ol",{attrs:{start:"4"}},[v("li",[t._v("完。")])])])])])}],_=r(1001),n={},s=(0,_.Z)(n,v,i,!1,null,null,null),o=s.exports}}]);